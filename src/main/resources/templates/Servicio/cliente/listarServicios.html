<!-- ===================================================== -->
<!-- P谩gina de Servicios Disponibles para Clientes / Available Services Page for Clients -->
<!-- ===================================================== -->
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Codificaci贸n del documento / Document encoding -->
    <meta charset="UTF-8">
    <!-- T铆tulo de la p谩gina / Page title -->
    <title>Servicios Disponibles | ServiExpress</title>

    <!-- Fuente y Bootstrap / Font and Bootstrap -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

    <style>
        /* ===================================================== */
        /* Variables de color / Color variables */
        /* ===================================================== */
        :root{
            --bg:#F8EDE3;       /* Fondo principal / Main background */
            --tone-2:#DFD3C3;   /* Tono secundario / Secondary tone */
            --tone-3:#D0B8A8;   /* Tono terciario / Tertiary tone */
            --brand:#C5705D;    /* Color principal de marca / Brand primary color */
            --brand-600:#a85848;/* Color marca oscuro / Brand dark color */
            --text:#3b2f2f;     /* Color de texto / Text color */
            --surface:#ffffff;  /* Color de superficie / Surface color */
            --ring:rgba(197,112,93,.35); /* Color de foco / Focus ring color */
            --line:#e6d7ce;     /* Color de l铆nea / Line color */
        }

        /* Ajustes generales / General settings */
        *{box-sizing:border-box;}
        body{
            font-family:Poppins, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
            background:var(--bg);
            color:var(--text);
            margin:0;
        }

        /* ===== NAVBAR ===== */
        /* Barra superior de navegaci贸n / Top navigation bar */
        .se-nav{
            position:sticky; top:0; z-index:50;
            background:linear-gradient(90deg,var(--bg),var(--tone-2));
            border-bottom:1px solid var(--line);
            backdrop-filter:saturate(1.1) blur(4px);
        }
        /* Estilo de marca / Brand style */
        .se-brand{
            font-weight:800; letter-spacing:.2px; color:var(--brand-600)!important; text-decoration:none; font-size:20px;
        }
        /* Chips redondeados / Rounded chips */
        .se-chip{
            background:var(--surface); border:1px solid var(--tone-2); border-radius:999px;
            padding:.55rem .95rem; box-shadow:0 6px 16px rgba(0,0,0,.06); font-weight:700;
        }
        /* Bot贸n principal / Primary button */
        .btn-brand{ background:var(--brand); border-color:var(--brand); color:#fff; }
        .btn-brand:hover{ filter:brightness(.96); color:#fff; }
        /* Bot贸n con borde claro / Ghost button */
        .btn-ghost{ background:var(--surface); border:1px solid var(--tone-2); color:var(--text); }
        /* Efecto de foco en inputs / Input focus effect */
        .form-control:focus{ border-color:var(--brand)!important; box-shadow:0 0 0 .25rem var(--ring)!important; }

        /* ===== CONTENEDOR / CARD ===== */
        /* Tarjetas o contenedores principales / Main content cards */
        .se-card{
            background:var(--surface); border:1px solid var(--tone-2);
            border-radius:18px; padding:1.5rem; box-shadow:0 10px 28px rgba(0,0,0,.06);
        }

        /* ===== TITULOS ===== */
        /* Encabezados principales / Main headings */
        h1{
            font-weight:800;
            color:var(--brand-600);
            text-align:center;
        }
        /* Texto descriptivo bajo t铆tulo / Subtitle text */
        .subtle{
            text-align:center;
            color:#7c6a63;
            margin-bottom:1.5rem;
        }

        /* ===== TABLA ===== */
        /* Cabecera de tabla / Table header */
        .table thead th{
            background:var(--tone-2)!important;
            color:#5a493f;
            border-bottom-color:var(--tone-2)!important;
            font-weight:800;
        }
        /* Filas alternas / Alternating rows */
        .table-striped>tbody>tr:nth-of-type(odd){
            --bs-table-accent-bg: rgba(208,184,168,.12);
        }
        /* Hover de fila / Row hover effect */
        .table-hover tbody tr:hover{
            background-color:rgba(208,184,168,.18)!important;
        }
        th, td{
            vertical-align:middle;
        }

        /* ===== BUSCADOR ===== */
        /* Caja del buscador / Search box */
        .search-box{
            display:flex; align-items:center; gap:.5rem;
            background:var(--surface);
            border:1px solid var(--tone-2);
            border-radius:999px;
            padding:.6rem 1rem;
            box-shadow:0 6px 16px rgba(0,0,0,.06);
            max-width:380px;
            margin:0 auto 1.5rem;
        }
        /* Input del buscador / Search input */
        .search-box input{
            border:none; outline:none;
            flex:1; background:none;
            font-family:inherit; color:var(--text);
        }

        /* ===== BOTONES ===== */
        /* Botones generales / General buttons */
        .btn{
            border-radius:30px;
            font-weight:600;
        }
        /* Bot贸n solicitar / Request button */
        .btn-request{
            background:var(--brand);
            color:#fff;
            border:none;
        }
        /* Hover del bot贸n solicitar / Request button hover */
        .btn-request:hover{
            background:var(--brand-600);
            color:#fff;
        }
    </style>
</head>
<body>

<!-- ===== NAVBAR ===== -->
<!-- Barra de navegaci贸n principal / Main navigation bar -->
<nav class="se-nav py-3" role="navigation" aria-label="Principal">
    <div class="container d-flex align-items-center justify-content-between gap-3">
        <!-- Marca / Brand -->
        <a class="se-brand" th:href="@{/}">ServiExpress</a>

        <!-- Botones del men煤 / Menu buttons -->
        <div class="d-flex align-items-center gap-2">
            <!-- Enlace al historial de solicitudes / Link to request history -->
            <a th:href="@{/solicitud/historial}" class="btn btn-ghost se-chip"> Ver Historial</a>

            <!-- Bot贸n de cerrar sesi贸n / Logout button -->
            <form th:action="@{/auth/logout}" method="post" class="m-0 p-0">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <button class="btn btn-outline-danger se-chip" type="submit">Cerrar sesi贸n</button>
            </form>
        </div>
    </div>
</nav>

<!-- ===== CONTENIDO PRINCIPAL ===== -->
<!-- Contenido principal de la p谩gina / Main page content -->
<main class="container my-5">
    <div class="se-card mb-4">
        <!-- T铆tulo principal / Main heading -->
        <h1>Servicios Disponibles</h1>
        <!-- Descripci贸n breve / Short description -->
        <p class="subtle">Selecciona el servicio que necesites o busca por proveedor.</p>

        <!-- Buscador / Search box -->
        <div class="search-box">
            <!-- Icono de lupa / Magnifying glass icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                 fill="none" stroke="#C5705D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"/>
                <path d="m21 21-4.3-4.3"/>
            </svg>
            <!-- Campo de b煤squeda / Search input -->
            <input type="search" id="buscar" placeholder="Buscar servicio o proveedor...">
        </div>

        <!-- Tabla de servicios / Services table -->
        <div class="table-responsive">
            <table class="table table-striped table-hover align-middle">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Descripci贸n</th>
                    <th>Precio</th>
                    <th>Proveedor</th>
                    <th>Acciones</th>
                </tr>
                </thead>
                <tbody id="listaServicios">
                <!-- Iteraci贸n sobre servicios / Iterating over services -->
                <tr th:each="servicio : ${servicios}">
                    <td th:text="${servicio.idServicio}">1</td>
                    <td th:text="${servicio.nombre}">Nombre</td>
                    <td th:text="${servicio.descripcion}">Descripci贸n breve</td>
                    <td>$<span th:text="${servicio.precio}"></span></td>
                    <td th:text="${servicio.proveedor != null ? servicio.proveedor.nombreUsuario : 'Sin asignar'}">Proveedor</td>
                    <td>
                        <!-- Bot贸n para solicitar servicio / Request service button -->
                        <a th:href="@{/solicitud/crear/{id}(id=${servicio.idServicio})}" class="btn btn-request btn-sm">Solicitar</a>
                    </td>
                </tr>
                <!-- Mensaje cuando no hay servicios / Message when no services available -->
                <tr th:if="${#lists.isEmpty(servicios)}">
                    <td colspan="6" class="text-center text-muted">No se encontraron servicios disponibles.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</main>

<!-- ===== SCRIPT DE BSQUEDA ===== -->
<!-- Filtro din谩mico de servicios / Dynamic service filter -->
<script>
    const inputBuscar=document.getElementById("buscar");
    inputBuscar?.addEventListener("input",function(){
        const filtro=(this.value||"").toLowerCase();
        document.querySelectorAll("#listaServicios tr").forEach(fila=>{
            const texto=fila.textContent.toLowerCase();
            fila.style.display=texto.includes(filtro)?"":"none";
        });
    });
</script>

</body>
</html>

<!-- ===================================================== -->
<!-- Resumen t茅cnico / Technical Summary:
- Este HTML permite a los clientes ver los servicios disponibles.
- Incluye buscador din谩mico y filtrado de resultados en tiempo real.
- Se usa Thymeleaf para renderizado din谩mico desde el servidor.
- Botones de acci贸n permiten solicitar servicios al proveedor correspondiente.
- Dise帽o responsivo y moderno usando Bootstrap y estilos personalizados.
-->
